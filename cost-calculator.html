<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cost Calculator | AWS Student Data Infrastructure</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Calculate AWS infrastructure costs and ROI for student data infrastructure with real-time cost estimation and automation savings analysis.">
    <meta name="keywords" content="AWS, Cost Calculator, Cloud Cost Estimation, ROI Analysis, AWS Pricing, Infrastructure Costs">
    <meta name="author" content="Jawad Khan">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Cost Calculator | AWS Student Data Infrastructure">
    <meta property="og:description" content="Calculate AWS infrastructure costs and ROI with real-time estimation and automation savings analysis.">
    <meta property="og:url" content="https://mjkhan9.github.io/aws-student-data-infrastructure/cost-calculator.html">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Cost Calculator | AWS Student Data Infrastructure">
    <meta name="twitter:description" content="Calculate AWS infrastructure costs and ROI with real-time estimation.">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://mjkhan9.github.io/aws-student-data-infrastructure/cost-calculator.html">
    
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23232f3e' width='100' height='100' rx='8'/><text y='.9em' x='50%' text-anchor='middle' font-size='70' fill='%23ff9900'>☁</text></svg>">
    <style>
        /* Cost Calculator - AWS Console Style */
        
        /* Tight spacing for calculator page */
        .calculator-page .content {
            padding-top: 8px !important;
        }
        
        .calculator-page .card {
            margin-top: 8px !important;
            padding-top: 12px !important;
            padding-bottom: 12px !important;
        }
        
        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-top: 12px;
            margin-bottom: 16px;
        }
        
        .input-section {
            background: var(--aws-card-bg);
            padding: 16px;
            border-radius: var(--aws-radius);
            border: 1px solid var(--aws-border);
        }
        
        .input-section h2 {
            font-size: 16px;
            color: var(--aws-text-primary);
            margin-bottom: 16px;
            font-weight: 700;
            border: none;
            padding: 0;
        }
        
        .input-group {
            margin-bottom: 16px;
        }
        
        .input-label {
            display: block;
            font-weight: 600;
            color: var(--aws-text-primary);
            margin-bottom: 6px;
            font-size: 13px;
        }
        
        .input-field {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid var(--aws-border);
            border-radius: var(--aws-radius);
            font-size: 13px;
            transition: all 0.15s ease;
            background: var(--aws-panel-bg);
            color: var(--aws-text-primary);
            font-family: inherit;
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--aws-blue);
            background: var(--aws-card-bg);
        }
        
        .slider-container {
            position: relative;
            padding-top: 6px;
        }
        
        .slider {
            width: 100%;
            height: 4px;
            border-radius: 2px;
            background: var(--aws-border);
            outline: none;
            -webkit-appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--aws-blue);
            cursor: pointer;
            border: 2px solid var(--aws-panel-bg);
        }
        
        .slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--aws-blue);
            cursor: pointer;
            border: 2px solid var(--aws-panel-bg);
        }
        
        .slider-value {
            display: inline-block;
            background: var(--aws-blue);
            color: white;
            padding: 3px 10px;
            border-radius: var(--aws-radius);
            font-weight: 600;
            font-size: 12px;
            margin-left: 10px;
        }
        
        .results-section {
            background: var(--aws-card-bg);
            padding: 16px;
            border-radius: var(--aws-radius);
            border: 1px solid var(--aws-border);
            border-left: 3px solid var(--aws-blue);
        }
        
        .results-section h2 {
            font-size: 16px;
            color: var(--aws-text-primary);
            margin-bottom: 16px;
            font-weight: 700;
            border: none;
            padding: 0;
        }
        
        .result-card {
            background: var(--aws-panel-bg);
            padding: 12px;
            border-radius: var(--aws-radius);
            margin-bottom: 12px;
            border: 1px solid var(--aws-border);
        }
        
        .result-title {
            font-size: 11px;
            color: var(--aws-text-tertiary);
            font-weight: 600;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .result-value {
            font-size: 28px;
            font-weight: 800;
            color: var(--aws-blue);
            line-height: 1;
        }
        
        .result-value.success {
            color: var(--aws-green-light);
        }
        
        .result-breakdown {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--aws-border);
        }
        
        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 4px 0;
            font-size: 12px;
        }
        
        .breakdown-label {
            color: var(--aws-text-secondary);
        }
        
        .breakdown-value {
            font-weight: 600;
            color: var(--aws-text-primary);
        }
        
        .roi-comparison {
            background: var(--aws-card-bg);
            border: 1px solid var(--aws-border);
            border-left: 3px solid var(--aws-green);
            padding: 16px;
            border-radius: var(--aws-radius);
            margin-top: 16px;
        }
        
        .roi-comparison h2 {
            font-size: 16px;
            color: var(--aws-green-light);
            margin-bottom: 8px;
            font-weight: 700;
            border: none;
            padding: 0;
        }
        
        .roi-comparison p {
            font-size: 12px;
            color: var(--aws-text-secondary);
            margin-bottom: 12px;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 12px;
        }
        
        .comparison-card {
            background: var(--aws-panel-bg);
            padding: 12px;
            border-radius: var(--aws-radius);
            text-align: center;
            border: 1px solid var(--aws-border);
        }
        
        .comparison-label {
            font-size: 11px;
            color: var(--aws-text-tertiary);
            margin-bottom: 6px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .comparison-value {
            font-size: 24px;
            font-weight: 800;
            color: var(--aws-text-primary);
            line-height: 1;
        }
        
        .savings-badge {
            background: var(--aws-green);
            color: white;
            padding: 6px 14px;
            border-radius: var(--aws-radius);
            display: inline-block;
            margin-top: 12px;
            font-weight: 600;
            font-size: 12px;
        }
        
        @media (max-width: 1024px) {
            .calculator-grid {
                grid-template-columns: 1fr;
            }
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body class="calculator-page">
<header class="site-header">
    <div>
        <a href="index.html" class="logo">
            <span class="logo-icon">☁</span>
            AWS Student Data Infrastructure
        </a>
        <nav class="nav-links">
            <a href="index.html">Home</a>
            <a href="architecture.html">Architecture</a>
            <a href="automation.html">IAM Automation</a>
            <a href="docs.html">Documentation</a>
            <a href="review.html">Project Review</a>
            <a href="live-demo.html">Live Demo</a>
            <a href="interactive-diagram.html">Interactive Diagram</a>
            <a href="cost-calculator.html" class="active">Cost Calculator</a>
            <a href="security-simulator.html">Security Simulator</a>
        </nav>
        <button class="mobile-menu-toggle" aria-label="Toggle navigation menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
</header>

<main class="content">
    <section class="card">
        <h1>AWS Infrastructure Cost & ROI Calculator</h1>
        <p>
            Calculate total monthly AWS infrastructure costs and return on investment from IAM automation. 
            Uses real AWS pricing from the us-east-1 region to demonstrate both infrastructure 
            costs and operational efficiency gains.
        </p>
    </section>

    <div class="calculator-grid">
        <div class="input-section">
            <h2>Infrastructure Inputs</h2>
            
            <div class="input-group">
                <label class="input-label">Number of IAM Users</label>
                <div class="slider-container">
                    <input type="range" id="userCount" class="slider" min="5" max="200" value="50" step="5">
                    <span class="slider-value" id="userCountValue">50</span>
                </div>
            </div>
            
            <div class="input-group">
                <label class="input-label">S3 Storage Volume (GB)</label>
                <div class="slider-container">
                    <input type="range" id="storageVolume" class="slider" min="100" max="5000" value="500" step="100">
                    <span class="slider-value" id="storageVolumeValue">500 GB</span>
                </div>
            </div>
            
            <div class="input-group">
                <label class="input-label">RDS Runtime (hours/month)</label>
                <div class="slider-container">
                    <input type="range" id="rdsHours" class="slider" min="100" max="730" value="730" step="10">
                    <span class="slider-value" id="rdsHoursValue">730 hrs</span>
                </div>
            </div>
            
            <div class="input-group">
                <label class="input-label">ECS Fargate Tasks</label>
                <div class="slider-container">
                    <input type="range" id="ecsTaskCount" class="slider" min="2" max="20" value="4" step="1">
                    <span class="slider-value" id="ecsTaskCountValue">4</span>
                </div>
            </div>
            
            <div class="input-group">
                <label class="input-label">Data Transfer Out (GB/month)</label>
                <div class="slider-container">
                    <input type="range" id="dataTransfer" class="slider" min="50" max="1000" value="200" step="50">
                    <span class="slider-value" id="dataTransferValue">200 GB</span>
                </div>
            </div>
        </div>
        
        <div class="results-section">
            <h2>Monthly Cost Breakdown</h2>
            
            <div class="result-card">
                <div class="result-title">Total Monthly Infrastructure Cost</div>
                <div class="result-value" id="totalCost">$0.00</div>
                
                <div class="result-breakdown">
                    <div class="breakdown-item">
                        <span class="breakdown-label">RDS PostgreSQL (db.r6g.xlarge)</span>
                        <span class="breakdown-value" id="rdsCost">$0.00</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">S3 Storage + Requests</span>
                        <span class="breakdown-value" id="s3Cost">$0.00</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">ECS Fargate Compute</span>
                        <span class="breakdown-value" id="ecsCost">$0.00</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">NAT Gateway (2 AZs)</span>
                        <span class="breakdown-value" id="natCost">$0.00</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Application Load Balancer</span>
                        <span class="breakdown-value" id="albCost">$0.00</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Data Transfer Out</span>
                        <span class="breakdown-value" id="transferCost">$0.00</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">CloudWatch + Logs</span>
                        <span class="breakdown-value" id="cloudwatchCost">$0.00</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">VPC Flow Logs + CloudTrail</span>
                        <span class="breakdown-value" id="loggingCost">$0.00</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="roi-comparison">
        <h2>IAM Automation ROI Analysis</h2>
        <p>
            Comparing manual IAM provisioning versus automated pipeline for <span id="roiUserCount">50</span> users
        </p>
        
        <div class="comparison-grid">
            <div class="comparison-card">
                <div class="comparison-label">Manual Provisioning Time</div>
                <div class="comparison-value" id="manualTime">150 min</div>
                <p style="font-size: 11px; color: var(--aws-text-tertiary); margin-top: 6px;">
                    ~3 minutes per user via AWS Console
                </p>
            </div>
            
            <div class="comparison-card">
                <div class="comparison-label">Automated Provisioning Time</div>
                <div class="comparison-value" id="automatedTime" style="color: var(--aws-green-light);">45 sec</div>
                <p style="font-size: 11px; color: var(--aws-text-tertiary); margin-top: 6px;">
                    Script execution + validation
                </p>
            </div>
            
            <div class="comparison-card">
                <div class="comparison-label">Time Saved</div>
                <div class="comparison-value" id="timeSaved" style="color: var(--aws-green-light);">149 min</div>
                <p style="font-size: 11px; color: var(--aws-text-tertiary); margin-top: 6px;">
                    67% efficiency improvement
                </p>
            </div>
            
            <div class="comparison-card">
                <div class="comparison-label">Cost Savings (Annual)</div>
                <div class="comparison-value" id="costSavings" style="color: var(--aws-green-light);">$12,450</div>
                <p style="font-size: 11px; color: var(--aws-text-tertiary); margin-top: 6px;">
                    Based on $50/hr engineer time
                </p>
            </div>
        </div>
        
        <div style="text-align: center;">
            <div class="savings-badge">
                <span id="roiEfficiency">67%</span> faster provisioning • 
                <span id="roiErrorRate">0%</span> error rate • 
                <span id="roiCompliance">100%</span> policy compliance
            </div>
        </div>
    </div>
    
    <section class="card">
        <h2>Cost Optimization Opportunities</h2>
        <ul>
            <li><strong>Reserved Instance Pricing:</strong> RDS Reserved Instances reduce database costs by 40-60% with 1-3 year commitment</li>
            <li><strong>Savings Plans:</strong> Compute Savings Plans for ECS Fargate provide up to 50% discount on consistent workloads</li>
            <li><strong>S3 Intelligent-Tiering:</strong> Automatically moves infrequently accessed data to lower-cost storage classes</li>
            <li><strong>NAT Gateway Optimization:</strong> VPC endpoints for S3 and DynamoDB eliminate NAT Gateway data processing charges</li>
            <li><strong>Right-Sizing:</strong> CloudWatch metrics analysis identifies over-provisioned resources for downsizing</li>
            <li><strong>Spot Instances:</strong> ECS Fargate Spot reduces compute costs by up to 70% for fault-tolerant workloads</li>
        </ul>
    </section>
</main>

<footer class="site-footer">
    <div class="footer-content">
        <p>AWS Cost & ROI Calculator • AWS Student Data Infrastructure • 2025</p>
        <p class="footer-links">
            <a href="https://github.com/mjkhan9/aws-student-data-infrastructure" target="_blank" rel="noopener noreferrer">
                View on GitHub
            </a>
        </p>
    </div>
</footer>

<script>
const PRICING = {
    rdsInstanceHourly: 0.504,
    rdsStorageGB: 0.115,
    s3StandardGB: 0.023,
    s3Requests: 0.0004,
    ecsFargateVCPU: 0.04048,
    ecsFargateGB: 0.004445,
    natGatewayHourly: 0.045,
    natGatewayDataGB: 0.045,
    albHourly: 0.0225,
    albLCU: 0.008,
    dataTransferGB: 0.09,
    cloudwatchBase: 10,
    loggingGB: 0.50
};

function formatCurrency(value) {
    return `$${value.toFixed(2)}`;
}

function updateSliderValue(sliderId, valueId, suffix = "") {
    const slider = document.getElementById(sliderId);
    const valueDisplay = document.getElementById(valueId);
    
    slider.addEventListener("input", function() {
        valueDisplay.textContent = this.value + suffix;
        calculateCosts();
    });
}

function calculateCosts() {
    const userCount = parseInt(document.getElementById("userCount").value);
    const storageVolume = parseInt(document.getElementById("storageVolume").value);
    const rdsHours = parseInt(document.getElementById("rdsHours").value);
    const ecsTaskCount = parseInt(document.getElementById("ecsTaskCount").value);
    const dataTransfer = parseInt(document.getElementById("dataTransfer").value);
    
    const rdsComputeCost = rdsHours * PRICING.rdsInstanceHourly;
    const rdsStorageCost = 100 * PRICING.rdsStorageGB;
    const rdsCost = rdsComputeCost + rdsStorageCost;
    
    const s3StorageCost = storageVolume * PRICING.s3StandardGB;
    const s3RequestCost = (userCount * 100 * PRICING.s3Requests);
    const s3Cost = s3StorageCost + s3RequestCost;
    
    const ecsCost = ecsTaskCount * 730 * (0.25 * PRICING.ecsFargateVCPU + 0.5 * PRICING.ecsFargateGB);
    
    const natHourlyCost = 2 * 730 * PRICING.natGatewayHourly;
    const natDataCost = dataTransfer * PRICING.natGatewayDataGB;
    const natCost = natHourlyCost + natDataCost;
    
    const albCost = 730 * PRICING.albHourly + (730 * PRICING.albLCU);
    const transferCost = dataTransfer * PRICING.dataTransferGB;
    const cloudwatchCost = PRICING.cloudwatchBase + (userCount * 0.15);
    const loggingCost = (dataTransfer / 10) * PRICING.loggingGB;
    
    const totalCost = rdsCost + s3Cost + ecsCost + natCost + albCost + transferCost + cloudwatchCost + loggingCost;
    
    document.getElementById("rdsCost").textContent = formatCurrency(rdsCost);
    document.getElementById("s3Cost").textContent = formatCurrency(s3Cost);
    document.getElementById("ecsCost").textContent = formatCurrency(ecsCost);
    document.getElementById("natCost").textContent = formatCurrency(natCost);
    document.getElementById("albCost").textContent = formatCurrency(albCost);
    document.getElementById("transferCost").textContent = formatCurrency(transferCost);
    document.getElementById("cloudwatchCost").textContent = formatCurrency(cloudwatchCost);
    document.getElementById("loggingCost").textContent = formatCurrency(loggingCost);
    document.getElementById("totalCost").textContent = formatCurrency(totalCost);
    
    const manualTimeMinutes = userCount * 3;
    const automatedTimeSeconds = 45;
    const automatedTimeMinutes = automatedTimeSeconds / 60;
    const timeSavedMinutes = manualTimeMinutes - automatedTimeMinutes;
    const efficiencyGain = ((timeSavedMinutes / manualTimeMinutes) * 100).toFixed(1);
    
    const hourlyRate = 50;
    const annualProvisioningCycles = 4;
    const annualSavings = (timeSavedMinutes / 60) * hourlyRate * annualProvisioningCycles;
    
    document.getElementById("roiUserCount").textContent = userCount;
    document.getElementById("manualTime").textContent = `${manualTimeMinutes} min`;
    document.getElementById("automatedTime").textContent = `${automatedTimeSeconds} sec`;
    document.getElementById("timeSaved").textContent = `${timeSavedMinutes.toFixed(0)} min`;
    document.getElementById("costSavings").textContent = formatCurrency(annualSavings);
    document.getElementById("roiEfficiency").textContent = `${efficiencyGain}%`;
}

updateSliderValue("userCount", "userCountValue", "");
updateSliderValue("storageVolume", "storageVolumeValue", " GB");
updateSliderValue("rdsHours", "rdsHoursValue", " hrs");
updateSliderValue("ecsTaskCount", "ecsTaskCountValue", "");
updateSliderValue("dataTransfer", "dataTransferValue", " GB");

calculateCosts();

// Mobile menu toggle
document.querySelector('.mobile-menu-toggle')?.addEventListener('click', function() {
    document.querySelector('.nav-links').classList.toggle('mobile-open');
    this.classList.toggle('active');
});

// Close mobile menu when clicking on a link
document.querySelectorAll('.nav-links a').forEach(link => {
    link.addEventListener('click', function() {
        document.querySelector('.nav-links').classList.remove('mobile-open');
        document.querySelector('.mobile-menu-toggle').classList.remove('active');
    });
});
</script>
</body>
</html>
