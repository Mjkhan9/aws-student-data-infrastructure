<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cost Calculator | AWS Student Data Infrastructure</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive AWS cost calculator with real-time visualization, ROI analysis, and cost optimization recommendations.">
    <meta name="keywords" content="AWS, Cost Calculator, Cloud Cost Estimation, ROI Analysis, AWS Pricing, Infrastructure Costs">
    <meta name="author" content="Jawad Khan">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Cost Calculator | AWS Student Data Infrastructure">
    <meta property="og:description" content="Interactive AWS cost calculator with real-time visualization and ROI analysis.">
    <meta property="og:url" content="https://mjkhan9.github.io/aws-student-data-infrastructure/cost-calculator.html">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Cost Calculator | AWS Student Data Infrastructure">
    <meta name="twitter:description" content="Interactive AWS cost calculator with real-time visualization.">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://mjkhan9.github.io/aws-student-data-infrastructure/cost-calculator.html">
    
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23232f3e' width='100' height='100' rx='8'/><text y='.9em' x='50%' text-anchor='middle' font-size='70' fill='%23ff9900'>‚òÅ</text></svg>">
    <style>
        /* ============================================
           SPECTACULAR COST CALCULATOR
           ============================================ */
        
        /* Hero Section */
        .calc-hero {
            background: linear-gradient(135deg, #0d1117 0%, #161b22 100%);
            border-radius: 16px;
            padding: 48px;
            margin-bottom: 32px;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--aws-border);
        }
        
        .calc-hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background: 
                radial-gradient(circle at 80% 20%, rgba(255, 153, 0, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 20% 80%, rgba(46, 160, 67, 0.1) 0%, transparent 40%);
            pointer-events: none;
        }
        
        .calc-hero h1 {
            font-size: 42px;
            margin-bottom: 16px;
            position: relative;
        }
        
        .calc-hero p {
            font-size: 16px;
            max-width: 700px;
            position: relative;
            color: var(--aws-text-secondary);
        }
        
        /* Preset Buttons */
        .preset-section {
            display: flex;
            gap: 12px;
            margin-top: 24px;
            position: relative;
        }
        
        .preset-btn {
            padding: 12px 24px;
            background: var(--aws-panel-bg);
            border: 1px solid var(--aws-border);
            border-radius: 8px;
            color: var(--aws-text-secondary);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
        }
        
        .preset-btn:hover {
            border-color: var(--aws-orange);
            color: var(--aws-orange);
            transform: translateY(-2px);
        }
        
        .preset-btn.active {
            background: var(--aws-orange);
            border-color: var(--aws-orange);
            color: var(--aws-squid-ink);
        }
        
        .preset-btn .preset-icon {
            margin-right: 8px;
        }
        
        /* Main Calculator Layout */
        .calculator-layout {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 24px;
            margin-bottom: 32px;
        }
        
        /* Input Section */
        .input-section {
            background: var(--aws-card-bg);
            border: 1px solid var(--aws-border);
            border-radius: 12px;
            padding: 24px;
        }
        
        .input-section h2 {
            font-size: 18px;
            color: var(--aws-text-primary);
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--aws-border);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .input-group {
            margin-bottom: 24px;
        }
        
        .input-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .input-label-text {
            font-weight: 600;
            color: var(--aws-text-primary);
            font-size: 14px;
        }
        
        .input-value-badge {
            background: var(--aws-orange);
            color: var(--aws-squid-ink);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
            min-width: 60px;
            text-align: center;
        }
        
        .slider-track {
            position: relative;
            height: 8px;
            background: var(--aws-panel-bg);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .slider-fill {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background: linear-gradient(90deg, var(--aws-orange), var(--aws-orange-light));
            border-radius: 4px;
            transition: width 0.1s ease;
        }
        
        .slider {
            position: relative;
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            background: transparent;
            cursor: pointer;
            margin-top: -8px;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--aws-orange);
            cursor: pointer;
            border: 3px solid var(--aws-card-bg);
            box-shadow: 0 2px 8px rgba(255, 153, 0, 0.4);
            transition: transform 0.15s ease;
        }
        
        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }
        
        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--aws-orange);
            cursor: pointer;
            border: 3px solid var(--aws-card-bg);
            box-shadow: 0 2px 8px rgba(255, 153, 0, 0.4);
        }
        
        .input-hint {
            font-size: 11px;
            color: var(--aws-text-tertiary);
            margin-top: 6px;
        }
        
        /* Results Section */
        .results-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        /* Total Cost Card */
        .total-cost-card {
            background: linear-gradient(135deg, #1a2332 0%, #0d1117 100%);
            border: 1px solid var(--aws-border);
            border-radius: 12px;
            padding: 32px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .total-cost-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--aws-orange), var(--aws-green-light), var(--aws-blue-light));
        }
        
        .total-label {
            font-size: 12px;
            color: var(--aws-text-tertiary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }
        
        .total-value {
            font-size: 56px;
            font-weight: 700;
            color: var(--aws-orange);
            line-height: 1;
            margin-bottom: 8px;
            font-family: Monaco, monospace;
        }
        
        .total-period {
            font-size: 14px;
            color: var(--aws-text-secondary);
        }
        
        .annual-estimate {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--aws-border);
            font-size: 14px;
            color: var(--aws-text-secondary);
        }
        
        .annual-value {
            color: var(--aws-blue-light);
            font-weight: 700;
            font-size: 18px;
        }
        
        /* Cost Breakdown Chart */
        .breakdown-card {
            background: var(--aws-card-bg);
            border: 1px solid var(--aws-border);
            border-radius: 12px;
            padding: 24px;
        }
        
        .breakdown-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .breakdown-header h3 {
            font-size: 16px;
            color: var(--aws-text-primary);
            margin: 0;
            border: none;
            padding: 0;
        }
        
        .view-toggle {
            display: flex;
            gap: 4px;
            background: var(--aws-panel-bg);
            border-radius: 6px;
            padding: 4px;
        }
        
        .view-btn {
            padding: 6px 12px;
            background: transparent;
            border: none;
            border-radius: 4px;
            color: var(--aws-text-tertiary);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.15s ease;
            font-family: inherit;
        }
        
        .view-btn.active {
            background: var(--aws-orange);
            color: var(--aws-squid-ink);
        }
        
        /* Bar Chart */
        .cost-bars {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .cost-bar-item {
            display: grid;
            grid-template-columns: 140px 1fr 80px;
            gap: 12px;
            align-items: center;
        }
        
        .cost-bar-label {
            font-size: 12px;
            color: var(--aws-text-secondary);
            text-align: right;
        }
        
        .cost-bar-track {
            height: 24px;
            background: var(--aws-panel-bg);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }
        
        .cost-bar-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
            position: relative;
        }
        
        .cost-bar-fill.rds { background: linear-gradient(90deg, #b84a7c, #d86a9c); }
        .cost-bar-fill.nat { background: linear-gradient(90deg, #4a7cb8, #6b9cd0); }
        .cost-bar-fill.ecs { background: linear-gradient(90deg, #6b5ba3, #8b7bc3); }
        .cost-bar-fill.alb { background: linear-gradient(90deg, #ff9900, #ffac31); }
        .cost-bar-fill.s3 { background: linear-gradient(90deg, #2d8659, #3fb950); }
        .cost-bar-fill.transfer { background: linear-gradient(90deg, #1e8fff, #5fb3ff); }
        .cost-bar-fill.cloudwatch { background: linear-gradient(90deg, #ff4f8b, #ff7aa8); }
        .cost-bar-fill.logging { background: linear-gradient(90deg, #7b61ff, #a78bfa); }
        
        .cost-bar-value {
            font-size: 13px;
            font-weight: 600;
            color: var(--aws-text-primary);
            font-family: Monaco, monospace;
        }
        
        /* Donut Chart View */
        .donut-chart-container {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        
        .donut-chart-container.active {
            display: flex;
        }
        
        .cost-bars.active {
            display: flex;
        }
        
        .cost-bars:not(.active) {
            display: none;
        }
        
        .donut-chart {
            position: relative;
            width: 200px;
            height: 200px;
        }
        
        .donut-chart svg {
            transform: rotate(-90deg);
        }
        
        .donut-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        
        .donut-center-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--aws-orange);
        }
        
        .donut-center-label {
            font-size: 11px;
            color: var(--aws-text-tertiary);
        }
        
        .donut-legend {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            width: 100%;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: var(--aws-text-secondary);
        }
        
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }
        
        /* ROI Section */
        .roi-section {
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            border: 1px solid var(--aws-border);
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 32px;
        }
        
        .roi-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .roi-header h2 {
            font-size: 20px;
            color: var(--aws-green-light);
            margin: 0;
            border: none;
            padding: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .roi-badge {
            background: var(--aws-green);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
        }
        
        .roi-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 24px;
        }
        
        .roi-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.2s ease;
        }
        
        .roi-card:hover {
            transform: translateY(-4px);
            border-color: var(--aws-green-light);
            box-shadow: 0 8px 24px rgba(46, 160, 67, 0.2);
        }
        
        .roi-icon {
            font-size: 28px;
            margin-bottom: 12px;
        }
        
        .roi-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--aws-green-light);
            line-height: 1;
            margin-bottom: 6px;
        }
        
        .roi-label {
            font-size: 12px;
            color: var(--aws-text-tertiary);
        }
        
        .roi-comparison {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 24px;
            align-items: center;
            padding: 24px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        .comparison-side {
            text-align: center;
        }
        
        .comparison-label {
            font-size: 12px;
            color: var(--aws-text-tertiary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }
        
        .comparison-time {
            font-size: 36px;
            font-weight: 700;
            color: var(--aws-text-primary);
        }
        
        .comparison-time.fast {
            color: var(--aws-green-light);
        }
        
        .comparison-sub {
            font-size: 11px;
            color: var(--aws-text-tertiary);
            margin-top: 4px;
        }
        
        .comparison-arrow {
            font-size: 32px;
            color: var(--aws-orange);
            animation: arrowPulse 1.5s ease-in-out infinite;
        }
        
        @keyframes arrowPulse {
            0%, 100% { transform: translateX(0); opacity: 1; }
            50% { transform: translateX(10px); opacity: 0.7; }
        }
        
        /* Optimization Cards */
        .optimization-section {
            background: var(--aws-card-bg);
            border: 1px solid var(--aws-border);
            border-radius: 12px;
            padding: 32px;
        }
        
        .optimization-section h2 {
            font-size: 20px;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 10px;
            border: none;
            padding: 0;
        }
        
        .optimization-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }
        
        .opt-card {
            background: var(--aws-panel-bg);
            border: 1px solid var(--aws-border);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .opt-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--aws-orange);
            transform: scaleX(0);
            transition: transform 0.2s ease;
        }
        
        .opt-card:hover::before {
            transform: scaleX(1);
        }
        
        .opt-card:hover {
            border-color: var(--aws-orange);
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }
        
        .opt-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        
        .opt-icon {
            font-size: 24px;
        }
        
        .opt-savings {
            background: var(--aws-green);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 700;
        }
        
        .opt-title {
            font-size: 14px;
            font-weight: 700;
            color: var(--aws-text-primary);
            margin-bottom: 8px;
        }
        
        .opt-desc {
            font-size: 12px;
            color: var(--aws-text-tertiary);
            line-height: 1.5;
        }
        
        /* AWS Service Breakdown */
        .service-breakdown {
            margin-top: 32px;
            background: var(--aws-card-bg);
            border: 1px solid var(--aws-border);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .service-header {
            background: var(--aws-panel-bg);
            padding: 16px 24px;
            border-bottom: 1px solid var(--aws-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .service-header h3 {
            font-size: 16px;
            color: var(--aws-text-primary);
            margin: 0;
            border: none;
            padding: 0;
        }
        
        .service-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1px;
            background: var(--aws-border);
        }
        
        .service-item {
            background: var(--aws-card-bg);
            padding: 20px;
            text-align: center;
            transition: all 0.2s ease;
        }
        
        .service-item:hover {
            background: var(--aws-panel-bg);
        }
        
        .service-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .service-name {
            font-size: 13px;
            color: var(--aws-text-secondary);
            margin-bottom: 6px;
        }
        
        .service-cost {
            font-size: 18px;
            font-weight: 700;
            color: var(--aws-orange);
            font-family: Monaco, monospace;
        }
        
        .service-detail {
            font-size: 10px;
            color: var(--aws-text-tertiary);
            margin-top: 4px;
        }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .calculator-layout {
                grid-template-columns: 1fr;
            }
            
            .roi-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .optimization-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .service-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .calc-hero {
                padding: 32px 24px;
            }
            
            .calc-hero h1 {
                font-size: 32px;
            }
            
            .preset-section {
                flex-wrap: wrap;
            }
            
            .roi-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .roi-comparison {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            
            .comparison-arrow {
                transform: rotate(90deg);
            }
            
            .optimization-grid {
                grid-template-columns: 1fr;
            }
            
            .service-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .cost-bar-item {
                grid-template-columns: 100px 1fr 70px;
            }
            
            .total-value {
                font-size: 42px;
            }
        }
    </style>
</head>
<body>
<header class="site-header">
    <div>
        <a href="index.html" class="logo">
            <span class="logo-icon">‚òÅ</span>
            AWS Student Data Infrastructure
        </a>
        <nav class="nav-links">
            <a href="index.html">Home</a>
            <a href="architecture.html">Architecture</a>
            <a href="automation.html">IAM Automation</a>
            <a href="docs.html">Documentation</a>
            <a href="review.html">Project Review</a>
            <a href="live-demo.html">Live Demo</a>
            <a href="interactive-diagram.html">Interactive Diagram</a>
            <a href="cost-calculator.html" class="active">Cost Calculator</a>
            <a href="security-simulator.html">Security Simulator</a>
        </nav>
        <button class="mobile-menu-toggle" aria-label="Toggle navigation menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
</header>

<main class="content">
    <!-- Hero Section -->
    <section class="calc-hero">
        <h1>üí∞ AWS Cost & ROI Calculator</h1>
        <p>
            Calculate real-time infrastructure costs using actual AWS us-east-1 pricing. 
            Visualize cost distribution, analyze automation ROI, and discover optimization opportunities 
            for your student data infrastructure deployment.
        </p>
        
        <div class="preset-section">
            <button class="preset-btn" data-preset="small" onclick="applyPreset('small')">
                <span class="preset-icon">üè´</span> Small Department
            </button>
            <button class="preset-btn active" data-preset="medium" onclick="applyPreset('medium')">
                <span class="preset-icon">üèõÔ∏è</span> Medium Institution
            </button>
            <button class="preset-btn" data-preset="large" onclick="applyPreset('large')">
                <span class="preset-icon">üéì</span> Large University
            </button>
        </div>
    </section>
    
    <!-- Main Calculator -->
    <div class="calculator-layout">
        <!-- Input Section -->
        <div class="input-section">
            <h2>‚öôÔ∏è Infrastructure Parameters</h2>
            
            <div class="input-group">
                <div class="input-label">
                    <span class="input-label-text">IAM Users</span>
                    <span class="input-value-badge" id="userCountBadge">50</span>
                </div>
                <div class="slider-track">
                    <div class="slider-fill" id="userCountFill" style="width: 23%"></div>
                </div>
                <input type="range" id="userCount" class="slider" min="5" max="200" value="50" step="5">
                <div class="input-hint">Active users requiring IAM provisioning</div>
            </div>
            
            <div class="input-group">
                <div class="input-label">
                    <span class="input-label-text">S3 Storage (GB)</span>
                    <span class="input-value-badge" id="storageBadge">500 GB</span>
                </div>
                <div class="slider-track">
                    <div class="slider-fill" id="storageFill" style="width: 10%"></div>
                </div>
                <input type="range" id="storageVolume" class="slider" min="100" max="5000" value="500" step="100">
                <div class="input-hint">Student records, transcripts, and documents</div>
            </div>
            
            <div class="input-group">
                <div class="input-label">
                    <span class="input-label-text">RDS Runtime (hrs/month)</span>
                    <span class="input-value-badge" id="rdsBadge">730 hrs</span>
                </div>
                <div class="slider-track">
                    <div class="slider-fill" id="rdsFill" style="width: 100%"></div>
                </div>
                <input type="range" id="rdsHours" class="slider" min="100" max="730" value="730" step="10">
                <div class="input-hint">730 hours = 24/7 operation</div>
            </div>
            
            <div class="input-group">
                <div class="input-label">
                    <span class="input-label-text">ECS Fargate Tasks</span>
                    <span class="input-value-badge" id="ecsBadge">4</span>
                </div>
                <div class="slider-track">
                    <div class="slider-fill" id="ecsFill" style="width: 17%"></div>
                </div>
                <input type="range" id="ecsTaskCount" class="slider" min="2" max="20" value="4" step="1">
                <div class="input-hint">Application containers running concurrently</div>
            </div>
            
            <div class="input-group">
                <div class="input-label">
                    <span class="input-label-text">Data Transfer Out (GB/month)</span>
                    <span class="input-value-badge" id="transferBadge">200 GB</span>
                </div>
                <div class="slider-track">
                    <div class="slider-fill" id="transferFill" style="width: 15%"></div>
                </div>
                <input type="range" id="dataTransfer" class="slider" min="50" max="1000" value="200" step="50">
                <div class="input-hint">Outbound bandwidth to users and integrations</div>
            </div>
        </div>
        
        <!-- Results Section -->
        <div class="results-section">
            <!-- Total Cost Card -->
            <div class="total-cost-card">
                <div class="total-label">Estimated Monthly Cost</div>
                <div class="total-value" id="totalCost">$0</div>
                <div class="total-period">per month (us-east-1)</div>
                <div class="annual-estimate">
                    Annual estimate: <span class="annual-value" id="annualCost">$0</span>
                </div>
            </div>
            
            <!-- Cost Breakdown -->
            <div class="breakdown-card">
                <div class="breakdown-header">
                    <h3>Cost Distribution</h3>
                    <div class="view-toggle">
                        <button class="view-btn active" onclick="setView('bars')">Bars</button>
                        <button class="view-btn" onclick="setView('donut')">Chart</button>
                    </div>
                </div>
                
                <!-- Bar Chart View -->
                <div class="cost-bars active" id="barsView">
                    <div class="cost-bar-item">
                        <span class="cost-bar-label">RDS PostgreSQL</span>
                        <div class="cost-bar-track">
                            <div class="cost-bar-fill rds" id="rdsBar" style="width: 0%"></div>
                        </div>
                        <span class="cost-bar-value" id="rdsCost">$0</span>
                    </div>
                    <div class="cost-bar-item">
                        <span class="cost-bar-label">NAT Gateway</span>
                        <div class="cost-bar-track">
                            <div class="cost-bar-fill nat" id="natBar" style="width: 0%"></div>
                        </div>
                        <span class="cost-bar-value" id="natCost">$0</span>
                    </div>
                    <div class="cost-bar-item">
                        <span class="cost-bar-label">ECS Fargate</span>
                        <div class="cost-bar-track">
                            <div class="cost-bar-fill ecs" id="ecsBar" style="width: 0%"></div>
                        </div>
                        <span class="cost-bar-value" id="ecsCost">$0</span>
                    </div>
                    <div class="cost-bar-item">
                        <span class="cost-bar-label">Load Balancer</span>
                        <div class="cost-bar-track">
                            <div class="cost-bar-fill alb" id="albBar" style="width: 0%"></div>
                        </div>
                        <span class="cost-bar-value" id="albCost">$0</span>
                    </div>
                    <div class="cost-bar-item">
                        <span class="cost-bar-label">S3 Storage</span>
                        <div class="cost-bar-track">
                            <div class="cost-bar-fill s3" id="s3Bar" style="width: 0%"></div>
                        </div>
                        <span class="cost-bar-value" id="s3Cost">$0</span>
                    </div>
                    <div class="cost-bar-item">
                        <span class="cost-bar-label">Data Transfer</span>
                        <div class="cost-bar-track">
                            <div class="cost-bar-fill transfer" id="transferBar" style="width: 0%"></div>
                        </div>
                        <span class="cost-bar-value" id="transferCost">$0</span>
                    </div>
                    <div class="cost-bar-item">
                        <span class="cost-bar-label">CloudWatch</span>
                        <div class="cost-bar-track">
                            <div class="cost-bar-fill cloudwatch" id="cwBar" style="width: 0%"></div>
                        </div>
                        <span class="cost-bar-value" id="cloudwatchCost">$0</span>
                    </div>
                    <div class="cost-bar-item">
                        <span class="cost-bar-label">Logging & Audit</span>
                        <div class="cost-bar-track">
                            <div class="cost-bar-fill logging" id="logBar" style="width: 0%"></div>
                        </div>
                        <span class="cost-bar-value" id="loggingCost">$0</span>
                    </div>
                </div>
                
                <!-- Donut Chart View -->
                <div class="donut-chart-container" id="donutView">
                    <div class="donut-chart">
                        <svg viewBox="0 0 200 200" id="donutSvg">
                            <!-- Donut segments drawn by JS -->
                        </svg>
                        <div class="donut-center">
                            <div class="donut-center-value" id="donutTotal">$0</div>
                            <div class="donut-center-label">Monthly</div>
                        </div>
                    </div>
                    <div class="donut-legend" id="donutLegend">
                        <!-- Legend items drawn by JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ROI Section -->
    <section class="roi-section">
        <div class="roi-header">
            <h2>üìà IAM Automation ROI</h2>
            <div class="roi-badge">Real Savings</div>
        </div>
        
        <div class="roi-grid">
            <div class="roi-card">
                <div class="roi-icon">‚ö°</div>
                <div class="roi-value" id="roiEfficiency">67%</div>
                <div class="roi-label">Faster Provisioning</div>
            </div>
            <div class="roi-card">
                <div class="roi-icon">üéØ</div>
                <div class="roi-value">0%</div>
                <div class="roi-label">Error Rate</div>
            </div>
            <div class="roi-card">
                <div class="roi-icon">üíµ</div>
                <div class="roi-value" id="roiSavings">$12,450</div>
                <div class="roi-label">Annual Savings</div>
            </div>
            <div class="roi-card">
                <div class="roi-icon">‚úÖ</div>
                <div class="roi-value">100%</div>
                <div class="roi-label">Compliance</div>
            </div>
        </div>
        
        <div class="roi-comparison">
            <div class="comparison-side">
                <div class="comparison-label">Manual Provisioning</div>
                <div class="comparison-time" id="manualTime">150 min</div>
                <div class="comparison-sub">~3 minutes per user via console</div>
            </div>
            <div class="comparison-arrow">‚Üí</div>
            <div class="comparison-side">
                <div class="comparison-label">Automated Pipeline</div>
                <div class="comparison-time fast" id="autoTime">45 sec</div>
                <div class="comparison-sub">Script execution + validation</div>
            </div>
        </div>
    </section>
    
    <!-- AWS Service Breakdown -->
    <div class="service-breakdown">
        <div class="service-header">
            <h3>AWS Service Breakdown</h3>
            <span style="font-size: 12px; color: var(--aws-text-tertiary);">us-east-1 pricing</span>
        </div>
        <div class="service-grid">
            <div class="service-item">
                <div class="service-icon">üóÑÔ∏è</div>
                <div class="service-name">RDS PostgreSQL</div>
                <div class="service-cost" id="svcRds">$0</div>
                <div class="service-detail">db.r6g.xlarge Multi-AZ</div>
            </div>
            <div class="service-item">
                <div class="service-icon">üåê</div>
                <div class="service-name">NAT Gateway</div>
                <div class="service-cost" id="svcNat">$0</div>
                <div class="service-detail">2 AZs + data processing</div>
            </div>
            <div class="service-item">
                <div class="service-icon">‚öôÔ∏è</div>
                <div class="service-name">ECS Fargate</div>
                <div class="service-cost" id="svcEcs">$0</div>
                <div class="service-detail">vCPU + Memory</div>
            </div>
            <div class="service-item">
                <div class="service-icon">‚öñÔ∏è</div>
                <div class="service-name">Load Balancer</div>
                <div class="service-cost" id="svcAlb">$0</div>
                <div class="service-detail">ALB + LCU charges</div>
            </div>
            <div class="service-item">
                <div class="service-icon">üì¶</div>
                <div class="service-name">S3 Storage</div>
                <div class="service-cost" id="svcS3">$0</div>
                <div class="service-detail">Standard + requests</div>
            </div>
            <div class="service-item">
                <div class="service-icon">üì°</div>
                <div class="service-name">Data Transfer</div>
                <div class="service-cost" id="svcTransfer">$0</div>
                <div class="service-detail">Outbound to internet</div>
            </div>
            <div class="service-item">
                <div class="service-icon">üìä</div>
                <div class="service-name">CloudWatch</div>
                <div class="service-cost" id="svcCw">$0</div>
                <div class="service-detail">Metrics + alarms</div>
            </div>
            <div class="service-item">
                <div class="service-icon">üìã</div>
                <div class="service-name">Audit Logging</div>
                <div class="service-cost" id="svcLog">$0</div>
                <div class="service-detail">CloudTrail + Flow Logs</div>
            </div>
        </div>
    </div>
    
    <!-- Optimization Section -->
    <section class="optimization-section">
        <h2>üí° Cost Optimization Opportunities</h2>
        
        <div class="optimization-grid">
            <div class="opt-card">
                <div class="opt-header">
                    <span class="opt-icon">üìÖ</span>
                    <span class="opt-savings">Up to 60%</span>
                </div>
                <div class="opt-title">Reserved Instances</div>
                <div class="opt-desc">Commit to 1-3 year RDS Reserved Instances for significant database cost reduction.</div>
            </div>
            
            <div class="opt-card">
                <div class="opt-header">
                    <span class="opt-icon">üíæ</span>
                    <span class="opt-savings">Up to 50%</span>
                </div>
                <div class="opt-title">Compute Savings Plans</div>
                <div class="opt-desc">Apply Savings Plans to ECS Fargate workloads for predictable compute discounts.</div>
            </div>
            
            <div class="opt-card">
                <div class="opt-header">
                    <span class="opt-icon">üóÇÔ∏è</span>
                    <span class="opt-savings">Up to 40%</span>
                </div>
                <div class="opt-title">S3 Intelligent-Tiering</div>
                <div class="opt-desc">Automatically move infrequently accessed data to lower-cost storage classes.</div>
            </div>
            
            <div class="opt-card">
                <div class="opt-header">
                    <span class="opt-icon">üîó</span>
                    <span class="opt-savings">Variable</span>
                </div>
                <div class="opt-title">VPC Endpoints</div>
                <div class="opt-desc">Eliminate NAT Gateway charges for S3 and DynamoDB with VPC endpoints.</div>
            </div>
            
            <div class="opt-card">
                <div class="opt-header">
                    <span class="opt-icon">üìê</span>
                    <span class="opt-savings">Up to 30%</span>
                </div>
                <div class="opt-title">Right-Sizing</div>
                <div class="opt-desc">Analyze CloudWatch metrics to identify over-provisioned resources.</div>
            </div>
            
            <div class="opt-card">
                <div class="opt-header">
                    <span class="opt-icon">‚ö°</span>
                    <span class="opt-savings">Up to 70%</span>
                </div>
                <div class="opt-title">Fargate Spot</div>
                <div class="opt-desc">Use Spot capacity for fault-tolerant, interruptible workloads.</div>
            </div>
        </div>
    </section>
</main>

<footer class="site-footer">
    <div class="footer-content">
        <p>AWS Cost & ROI Calculator ‚Ä¢ AWS Student Data Infrastructure ‚Ä¢ 2025</p>
        <p class="footer-links">
            <a href="https://github.com/mjkhan9/aws-student-data-infrastructure" target="_blank" rel="noopener noreferrer">
                View on GitHub
            </a>
        </p>
    </div>
</footer>

<script>
// ============================================
// SPECTACULAR COST CALCULATOR
// ============================================

// AWS Pricing (us-east-1)
const PRICING = {
    rdsInstanceHourly: 0.504,      // db.r6g.xlarge
    rdsStorageGB: 0.115,
    s3StandardGB: 0.023,
    s3Requests: 0.0004,            // per 1000 requests
    ecsFargateVCPU: 0.04048,       // per vCPU-hour
    ecsFargateGB: 0.004445,        // per GB-hour
    natGatewayHourly: 0.045,
    natGatewayDataGB: 0.045,
    albHourly: 0.0225,
    albLCU: 0.008,
    dataTransferGB: 0.09,
    cloudwatchBase: 10,
    loggingGB: 0.50
};

// Presets
const PRESETS = {
    small: { users: 25, storage: 200, rds: 730, ecs: 2, transfer: 100 },
    medium: { users: 50, storage: 500, rds: 730, ecs: 4, transfer: 200 },
    large: { users: 150, storage: 2000, rds: 730, ecs: 10, transfer: 500 }
};

// Donut chart colors
const CHART_COLORS = [
    '#b84a7c', // RDS
    '#4a7cb8', // NAT
    '#6b5ba3', // ECS
    '#ff9900', // ALB
    '#2d8659', // S3
    '#1e8fff', // Transfer
    '#ff4f8b', // CloudWatch
    '#7b61ff'  // Logging
];

let currentView = 'bars';
let costs = {};

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    setupSliders();
    calculateCosts();
});

// Setup slider interactions
function setupSliders() {
    const sliders = [
        { id: 'userCount', badge: 'userCountBadge', fill: 'userCountFill', suffix: '', max: 200, min: 5 },
        { id: 'storageVolume', badge: 'storageBadge', fill: 'storageFill', suffix: ' GB', max: 5000, min: 100 },
        { id: 'rdsHours', badge: 'rdsBadge', fill: 'rdsFill', suffix: ' hrs', max: 730, min: 100 },
        { id: 'ecsTaskCount', badge: 'ecsBadge', fill: 'ecsFill', suffix: '', max: 20, min: 2 },
        { id: 'dataTransfer', badge: 'transferBadge', fill: 'transferFill', suffix: ' GB', max: 1000, min: 50 }
    ];
    
    sliders.forEach(config => {
        const slider = document.getElementById(config.id);
        slider.addEventListener('input', () => {
            updateSlider(config);
            calculateCosts();
        });
        updateSlider(config);
    });
}

function updateSlider(config) {
    const slider = document.getElementById(config.id);
    const badge = document.getElementById(config.badge);
    const fill = document.getElementById(config.fill);
    
    const value = parseInt(slider.value);
    const percent = ((value - config.min) / (config.max - config.min)) * 100;
    
    badge.textContent = value + config.suffix;
    fill.style.width = percent + '%';
}

// Apply preset
function applyPreset(preset) {
    const values = PRESETS[preset];
    if (!values) return;
    
    // Update buttons
    document.querySelectorAll('.preset-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.preset === preset);
    });
    
    // Set slider values
    document.getElementById('userCount').value = values.users;
    document.getElementById('storageVolume').value = values.storage;
    document.getElementById('rdsHours').value = values.rds;
    document.getElementById('ecsTaskCount').value = values.ecs;
    document.getElementById('dataTransfer').value = values.transfer;
    
    // Update displays
    const configs = [
        { id: 'userCount', badge: 'userCountBadge', fill: 'userCountFill', suffix: '', max: 200, min: 5 },
        { id: 'storageVolume', badge: 'storageBadge', fill: 'storageFill', suffix: ' GB', max: 5000, min: 100 },
        { id: 'rdsHours', badge: 'rdsBadge', fill: 'rdsFill', suffix: ' hrs', max: 730, min: 100 },
        { id: 'ecsTaskCount', badge: 'ecsBadge', fill: 'ecsFill', suffix: '', max: 20, min: 2 },
        { id: 'dataTransfer', badge: 'transferBadge', fill: 'transferFill', suffix: ' GB', max: 1000, min: 50 }
    ];
    
    configs.forEach(updateSlider);
    calculateCosts();
}

// Main calculation
function calculateCosts() {
    const userCount = parseInt(document.getElementById('userCount').value);
    const storageVolume = parseInt(document.getElementById('storageVolume').value);
    const rdsHours = parseInt(document.getElementById('rdsHours').value);
    const ecsTaskCount = parseInt(document.getElementById('ecsTaskCount').value);
    const dataTransfer = parseInt(document.getElementById('dataTransfer').value);
    
    // Calculate individual costs
    const rdsComputeCost = rdsHours * PRICING.rdsInstanceHourly;
    const rdsStorageCost = 100 * PRICING.rdsStorageGB;
    costs.rds = rdsComputeCost + rdsStorageCost;
    
    const s3StorageCost = storageVolume * PRICING.s3StandardGB;
    const s3RequestCost = (userCount * 100 * PRICING.s3Requests);
    costs.s3 = s3StorageCost + s3RequestCost;
    
    costs.ecs = ecsTaskCount * 730 * (0.25 * PRICING.ecsFargateVCPU + 0.5 * PRICING.ecsFargateGB);
    
    const natHourlyCost = 2 * 730 * PRICING.natGatewayHourly;
    const natDataCost = dataTransfer * PRICING.natGatewayDataGB;
    costs.nat = natHourlyCost + natDataCost;
    
    costs.alb = 730 * PRICING.albHourly + (730 * PRICING.albLCU);
    costs.transfer = dataTransfer * PRICING.dataTransferGB;
    costs.cloudwatch = PRICING.cloudwatchBase + (userCount * 0.15);
    costs.logging = (dataTransfer / 10) * PRICING.loggingGB;
    
    const totalCost = costs.rds + costs.s3 + costs.ecs + costs.nat + 
                      costs.alb + costs.transfer + costs.cloudwatch + costs.logging;
    
    // Update displays
    updateDisplay(totalCost);
    updateBars(totalCost);
    updateDonut(totalCost);
    updateROI(userCount);
    updateServices();
}

function formatCurrency(value) {
    return '$' + value.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

function updateDisplay(total) {
    // Animate total cost
    animateValue('totalCost', total, true);
    document.getElementById('annualCost').textContent = formatCurrency(total * 12);
    
    // Update breakdown values
    document.getElementById('rdsCost').textContent = formatCurrency(costs.rds);
    document.getElementById('natCost').textContent = formatCurrency(costs.nat);
    document.getElementById('ecsCost').textContent = formatCurrency(costs.ecs);
    document.getElementById('albCost').textContent = formatCurrency(costs.alb);
    document.getElementById('s3Cost').textContent = formatCurrency(costs.s3);
    document.getElementById('transferCost').textContent = formatCurrency(costs.transfer);
    document.getElementById('cloudwatchCost').textContent = formatCurrency(costs.cloudwatch);
    document.getElementById('loggingCost').textContent = formatCurrency(costs.logging);
}

function animateValue(elementId, value, isCurrency = false) {
    const element = document.getElementById(elementId);
    const duration = 500;
    const startTime = performance.now();
    const startValue = parseFloat(element.textContent.replace(/[$,]/g, '')) || 0;
    
    function update(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const eased = 1 - Math.pow(1 - progress, 3); // easeOutCubic
        
        const current = startValue + (value - startValue) * eased;
        element.textContent = isCurrency ? formatCurrency(current) : Math.round(current);
        
        if (progress < 1) {
            requestAnimationFrame(update);
        }
    }
    
    requestAnimationFrame(update);
}

function updateBars(total) {
    const costData = [
        { id: 'rdsBar', value: costs.rds },
        { id: 'natBar', value: costs.nat },
        { id: 'ecsBar', value: costs.ecs },
        { id: 'albBar', value: costs.alb },
        { id: 's3Bar', value: costs.s3 },
        { id: 'transferBar', value: costs.transfer },
        { id: 'cwBar', value: costs.cloudwatch },
        { id: 'logBar', value: costs.logging }
    ];
    
    const maxCost = Math.max(...costData.map(c => c.value));
    
    costData.forEach(item => {
        const percent = maxCost > 0 ? (item.value / maxCost) * 100 : 0;
        document.getElementById(item.id).style.width = percent + '%';
    });
}

function updateDonut(total) {
    const svg = document.getElementById('donutSvg');
    const legend = document.getElementById('donutLegend');
    
    const costData = [
        { label: 'RDS', value: costs.rds },
        { label: 'NAT Gateway', value: costs.nat },
        { label: 'ECS Fargate', value: costs.ecs },
        { label: 'Load Balancer', value: costs.alb },
        { label: 'S3 Storage', value: costs.s3 },
        { label: 'Data Transfer', value: costs.transfer },
        { label: 'CloudWatch', value: costs.cloudwatch },
        { label: 'Logging', value: costs.logging }
    ];
    
    // Clear previous
    svg.innerHTML = '';
    legend.innerHTML = '';
    
    // Draw donut
    const centerX = 100;
    const centerY = 100;
    const radius = 80;
    const innerRadius = 50;
    
    let cumulativePercent = 0;
    
    costData.forEach((item, index) => {
        const percent = total > 0 ? (item.value / total) : 0;
        
        if (percent > 0.01) {
            const startAngle = cumulativePercent * 2 * Math.PI;
            cumulativePercent += percent;
            const endAngle = cumulativePercent * 2 * Math.PI;
            
            const x1 = centerX + radius * Math.cos(startAngle);
            const y1 = centerY + radius * Math.sin(startAngle);
            const x2 = centerX + radius * Math.cos(endAngle);
            const y2 = centerY + radius * Math.sin(endAngle);
            
            const x3 = centerX + innerRadius * Math.cos(endAngle);
            const y3 = centerY + innerRadius * Math.sin(endAngle);
            const x4 = centerX + innerRadius * Math.cos(startAngle);
            const y4 = centerY + innerRadius * Math.sin(startAngle);
            
            const largeArc = percent > 0.5 ? 1 : 0;
            
            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path.setAttribute('d', `
                M ${x1} ${y1}
                A ${radius} ${radius} 0 ${largeArc} 1 ${x2} ${y2}
                L ${x3} ${y3}
                A ${innerRadius} ${innerRadius} 0 ${largeArc} 0 ${x4} ${y4}
                Z
            `);
            path.setAttribute('fill', CHART_COLORS[index]);
            path.style.transition = 'opacity 0.2s ease';
            path.addEventListener('mouseenter', () => path.style.opacity = '0.8');
            path.addEventListener('mouseleave', () => path.style.opacity = '1');
            svg.appendChild(path);
        }
        
        // Legend item
        const legendItem = document.createElement('div');
        legendItem.className = 'legend-item';
        legendItem.innerHTML = `
            <div class="legend-dot" style="background: ${CHART_COLORS[index]}"></div>
            <span>${item.label}</span>
        `;
        legend.appendChild(legendItem);
    });
    
    document.getElementById('donutTotal').textContent = formatCurrency(total);
}

function updateROI(userCount) {
    const manualMinutes = userCount * 3;
    const autoSeconds = 45;
    const autoMinutes = autoSeconds / 60;
    const savedMinutes = manualMinutes - autoMinutes;
    const efficiency = ((savedMinutes / manualMinutes) * 100).toFixed(0);
    
    const hourlyRate = 50;
    const annualCycles = 4;
    const annualSavings = (savedMinutes / 60) * hourlyRate * annualCycles;
    
    document.getElementById('manualTime').textContent = manualMinutes + ' min';
    document.getElementById('autoTime').textContent = autoSeconds + ' sec';
    document.getElementById('roiEfficiency').textContent = efficiency + '%';
    document.getElementById('roiSavings').textContent = formatCurrency(annualSavings);
}

function updateServices() {
    document.getElementById('svcRds').textContent = formatCurrency(costs.rds);
    document.getElementById('svcNat').textContent = formatCurrency(costs.nat);
    document.getElementById('svcEcs').textContent = formatCurrency(costs.ecs);
    document.getElementById('svcAlb').textContent = formatCurrency(costs.alb);
    document.getElementById('svcS3').textContent = formatCurrency(costs.s3);
    document.getElementById('svcTransfer').textContent = formatCurrency(costs.transfer);
    document.getElementById('svcCw').textContent = formatCurrency(costs.cloudwatch);
    document.getElementById('svcLog').textContent = formatCurrency(costs.logging);
}

// View toggle
function setView(view) {
    currentView = view;
    
    document.querySelectorAll('.view-btn').forEach(btn => {
        btn.classList.toggle('active', btn.textContent.toLowerCase() === view);
    });
    
    document.getElementById('barsView').classList.toggle('active', view === 'bars');
    document.getElementById('donutView').classList.toggle('active', view === 'donut');
}

// Mobile menu
document.querySelector('.mobile-menu-toggle')?.addEventListener('click', function() {
    document.querySelector('.nav-links').classList.toggle('mobile-open');
    this.classList.toggle('active');
});

document.querySelectorAll('.nav-links a').forEach(link => {
    link.addEventListener('click', () => {
        document.querySelector('.nav-links').classList.remove('mobile-open');
        document.querySelector('.mobile-menu-toggle')?.classList.remove('active');
    });
});
</script>
</body>
</html>
